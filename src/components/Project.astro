---
// Props
import Github from "../icons/Github.astro";
import PreviewIcon from "../icons/PreviewIcon.astro";
import ButtonCard from "./ButtonCard.astro";
import Chips from "./Chips.astro";
import { Image } from "astro:assets";

const { project } = Astro.props;
---

<div
  class="rounded-xl overflow-hidden shadow-md group relative break-inside-avoid"
>
  <!-- Imagen -->
  <figure class="relative overflow-hidden">
    <Image
      src={project.image}
      alt={`Imagen del proyecto ${project.name}`}
      width={640}
      height={360}
      loading="lazy"
      class="object-cover w-full h-full transition-transform duration-300 group-hover:scale-105"
    />

    <!-- Overlay en hover -->
    <figcaption
      class="absolute inset-0 bg-black/40 backdrop-blur-md opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex flex-col justify-between p-4 text-white"
    >
      <!-- Título y botones -->
      <div class="flex justify-between items-start gap-2">
        <h3 class="text-lg font-bold">{project.name}</h3>
        <div class="flex gap-2">
          {
            project.github && (
              <ButtonCard link={project.github} title="Ver en GitHub">
                <Github class="w-5 h-5 text-white" />
              </ButtonCard>
            )
          }
          {
            project.preview && (
              <ButtonCard link={project.preview} title="Ver preview">
                <PreviewIcon class="w-5 h-5 text-white" />
              </ButtonCard>
            )
          }
        </div>
      </div>

      <!-- Descripción -->
      {
        project.description && (
          <p class="text-sm text-white/90 mt-2 line-clamp-5">
            {project.description}
          </p>
        )
      }
    </figcaption>
  </figure>
</div>
